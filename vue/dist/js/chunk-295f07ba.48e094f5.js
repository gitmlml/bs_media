(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-295f07ba"],{"0759":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t._self._c;return e("el-card",{staticStyle:{"margin-top":"15px"}},[e("el-form",{staticStyle:{width:"90%"},attrs:{"label-width":"100px",size:"small"}},[e("el-form-item",{attrs:{label:"作品名称"}},[e("el-input",{attrs:{placeholder:"请输入作品名称",autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("el-form-item",{attrs:{label:"封面"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://localhost:9090/file/upload","show-file-list":!1,"on-success":t.handleImgUploadSuccess}},[t.form.img?e("img",{staticClass:"avatar",attrs:{src:t.form.img}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon",staticStyle:{border:"1px dashed #d9d9d9"}})])],1),e("el-form-item",{attrs:{label:"作品内容"}},[e("div",{attrs:{id:"richText"}})]),e("el-form-item",{attrs:{prop:"blogType",label:"博客类别"}},[[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.blogType,callback:function(e){t.$set(t.form,"blogType",e)},expression:"form.blogType"}},t._l(t.types,(function(t){return e("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})})),1)]],2)],1),e("div",{staticStyle:{"margin-top":"10px","margin-left":"988px"}},[e("el-button",{attrs:{size:"small",type:"success"},on:{click:t.submit}},[t._v("提交")])],1)],1)},s=[],o=a("6fad"),r=a.n(o);let i;var m={name:"AddBlog",data(){return{form:{img:""},user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{},types:[]}},created(){this.handleAdd(),this.request.get("/blogType").then(t=>{this.types=t.data})},methods:{submit(){let t={name:this.form.name,content:i.txt.html(),userId:this.user.id,img:this.form.img};console.log(t),this.request.post("/blog",t).then(t=>{"200"===t.code?(this.$message.success("发表成功"),this.form={},i.txt.html(""),this.load()):this.$message.error("发表失败")})},handleAdd(){i="",this.$nextTick(()=>{i||(i=new r.a("#richText"),i.config.uploadImgServer="http://localhost:9090/file/uploadImg",i.config.uploadFileName="file",i.create()),i.txt.html("")})},handleImgUploadSuccess(t){this.form.img=t}}},c=m,n=(a("86bf"),a("2877")),d=Object(n["a"])(c,l,s,!1,null,"65a017b5",null);e["default"]=d.exports},"86bf":function(t,e,a){"use strict";a("89da")},"89da":function(t,e,a){}}]);
//# sourceMappingURL=chunk-295f07ba.48e094f5.js.map