(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d0005"],{"65b2":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{width:"1200px","margin-top":"15px"}},[e("el-card",[e("el-form",{staticStyle:{width:"100%"},attrs:{size:"small"}},[e("div",{staticStyle:{padding:"10px 0",margin:"0 0 0 0","border-bottom":"1px solid #ccc",color:"#1E90FF","font-size":"20px"}},[t._v(" 留言板 ")]),e("div",{staticStyle:{margin:"10px 0 0 0"}},[e("el-form-item",[e("el-input",{attrs:{type:"textarea",autocomplete:"off",rows:3},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],1)]),e("div",{staticStyle:{"margin-top":"10px","text-align":"right"}},[e("el-button",{attrs:{size:"small",type:"success"},on:{click:t.submit}},[t._v("提交")])],1)],1),t._l(t.tableData,(function(a){return e("div",{staticStyle:{padding:"5px 0"}},[e("el-card",[e("div",{staticStyle:{display:"flex"}},[e("div",{staticStyle:{width:"80px"}},[e("el-avatar",{attrs:{size:50,src:a.user.avatarUrl}})],1),e("div",{staticStyle:{flex:"1"}},[e("div",{staticStyle:{display:"flex"}},[t._v(" "+t._s(a.user.nickname)+" "),e("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(a.time))])]),e("div",{staticStyle:{"margin-top":"10px",color:"#666"}},[t._v(t._s(a.content))])])])])],1)})),e("div",{staticStyle:{padding:"10px 0"}},[e("el-pagination",{attrs:{"current-page":t.pageNum,"page-sizes":[2,5,10,20],"page-size":t.pageSize,layout:"total, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],2)},i=[],l={name:"ShortComment",data(){return{content:"",user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{},types:[],pageNum:1,pageSize:10,total:0,tableData:[]}},created(){this.load()},methods:{submit(){let t={content:this.content,userId:this.user.id};console.log(t),this.request.post("/message",t).then(t=>{"200"===t.code?(this.$message.success("发表成功"),this.load()):this.$message.error("发表失败")})},load(){this.request.get("/message/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize}}).then(t=>{this.tableData=t.data.records,this.total=t.data.total})},handleSizeChange(t){this.pageSize=t,this.load()},handleCurrentChange(t){this.pageNum=t,this.load()}}},n=l,r=a("2877"),o=Object(r["a"])(n,s,i,!1,null,"10a45890",null);e["default"]=o.exports}}]);
//# sourceMappingURL=chunk-2d0d0005.a01f7819.js.map